╔════════════════════════════════════════════════════════════════════════╗
║                    INFRASTRUCTURE DEVOPS COMPLÈTE                      ║
╚════════════════════════════════════════════════════════════════════════╝

                            ┌─────────────────┐
                            │   UTILISATEURS  │
                            │   (Internet)    │
                            └────────┬────────┘
                                     │
                    ┌────────────────┼────────────────┐
                    │                                 │
            ┌───────▼───────┐              ┌─────────▼────────┐
            │  AWS EC2      │              │  Security Group  │
            │  Ubuntu       │              │  (Firewall)      │
            │  8GB RAM      │              └──────────────────┘
            │  16 CPU       │
            └───────┬───────┘
                    │
    ┌───────────────┼───────────────────────────────────┐
    │               │                                   │
┌───▼────────┐  ┌──▼──────────┐              ┌────────▼────────┐
│   Docker   │  │ Kubernetes  │              │   Dashboard     │
│   Engine   │  │    (K3s)    │              │   (Nginx)       │
└────┬───────┘  └──┬──────────┘              │   Port: 1122    │
     │             │                          └─────────────────┘
     │             │
┌────┴─────────────┴──────────────────────────────────────────┐
│                     CONTAINERS DOCKER                        │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────┐ │
│  │    JENKINS      │  │   PORTAINER     │  │  SONARQUBE  │ │
│  │   Port: 8080    │  │   Port: 9000    │  │ Port: 9002  │ │
│  │   CI/CD         │  │   Docker GUI    │  │ Code Quality│ │
│  └─────────────────┘  └─────────────────┘  └─────────────┘ │
│                                                              │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────┐ │
│  │   PROMETHEUS    │─→│    GRAFANA      │  │  cAdvisor   │ │
│  │   Port: 9090    │  │   Port: 3000    │  │ Port: 8082  │ │
│  │   Metrics DB    │  │   Dashboards    │  │  Container  │ │
│  └─────────────────┘  └─────────────────┘  └─────────────┘ │
│                                                              │
│  ┌─────────────────┐  ┌─────────────────┐                  │
│  │ Node Exporter   │  │   Demo App      │                  │
│  │   Port: 9100    │  │   Port: 3001    │                  │
│  │  System Metrics │  │   Node.js       │                  │
│  └─────────────────┘  └─────────────────┘                  │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│                    KUBERNETES CLUSTER (K3s)                  │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌─────────────────┐  ┌─────────────────┐                  │
│  │     ARGOCD      │  │      HELM       │                  │
│  │   Port: 30080   │  │  Package Mgr    │                  │
│  │    GitOps       │  │                 │                  │
│  └─────────────────┘  └─────────────────┘                  │
│                                                              │
│  ┌─────────────────────────────────────────────────────┐   │
│  │           Application Pods (devops-app)             │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐         │   │
│  │  │  Pod 1   │  │  Pod 2   │  │  Pod 3   │         │   │
│  │  └──────────┘  └──────────┘  └──────────┘         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                              │
└──────────────────────────────────────────────────────────────┘

                    WORKFLOW CI/CD GitOps
                    ═════════════════════
    
    1. Developer Push Code
              ↓
    2. GitHub Repository
              ↓
    3. Jenkins (Webhook/Poll)
              ↓
    4. Build & Test (npm)
              ↓
    5. SonarQube Analysis
              ↓
    6. Docker Build & Push
              ↓
    7. Update K8s Manifests
              ↓
    8. ArgoCD Auto-Sync
              ↓
    9. Deploy to Kubernetes
              ↓
    10. Prometheus Metrics Collection
              ↓
    11. Grafana Dashboards Updated

════════════════════════════════════════════════════════════════
